generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// prisma repo generator
generator repo {
  provider = "prisma-repo"
  output   = "../src/repository"
  query    = true
  warn     = true
  info     = true
  error    = true
}

model Categoria {
  id        Int      @id @default(autoincrement())
  tipo      String
  titulo    String   @unique
  descricao String?
  insumos   Insumo[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("Categorias")
}

model Insumo {
  id            Int        @id @default(autoincrement())
  titulo        String
  descricao     String?
  unidadeMedida String?
  idCategoria   Int?
  categoria     Categoria? @relation(fields: [idCategoria], references: [id])
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt

  @@map("Insumos")
}

model Fornecedor{
  id      Int @id @default(autoincrement())
  email   String @unique
  telefone String
  contaTipo contaTipo
  rua       String
  numero    String
  complemento String?
  tipo        String
  cep         String
  bairro      String
  cidade      String
  estado      String
  pais        String
  Nome        String
  cpf         String? @unique
  rg          String? @unique
  nomeFantasia String?
  razaoSocial String? @unique
  cnpj        String? @unique
  
  @@map("Fornecedores")
}

enum contaTipo {
  Fisico
  Juridico
}
